var V=Object.defineProperty;var O=(e,t,o)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var c=(e,t,o)=>(O(e,typeof t!="symbol"?t+"":t,o),o);import{a as _,b as E,c as x,d as N,e as B,f as j,u as S,r as T,g as H,h as M,o as W,i as X,j as D,k as G,l as K,m as Y,n as $,p as z}from"./vendor.6bf135c8.js";const q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}};q();const Q="modulepreload",I={},Z="/ViteSetup/vite-vuetify-talwind-3/admin/",l=function(t,o){return!o||o.length===0?t():Promise.all(o.map(a=>{if(a=`${Z}${a}`,a in I)return;I[a]=!0;const r=a.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${n}`))return;const s=document.createElement("link");if(s.rel=r?"stylesheet":Q,r||(s.as="script",s.crossOrigin=""),s.href=a,document.head.appendChild(s),r)return new Promise((d,i)=>{s.addEventListener("load",d),s.addEventListener("error",i)})})).then(()=>t())},J={admin:{VUE_APP_API_BASE_URL:"http://localhost/sharetings/server/public/api/",VUE_APP_BASE_URL:"http://localhost",VUE_APP_DOMAIN_PREFIX:"/ViteSetup/vite-vuetify-talwind-3/admin/",VUE_APP_OUTPUT_DIR:"admin",VUE_APP_INDEX_PATH:"/admin/index.html",VUE_APP_ENTRY:"admin/index",VUE_APP_PORT:"4444",VUE_APP_COOKIE_PREFIX:"admin_",VUE_APP_CHECK_PERMISSION:"false",VUE_APP_CHECK_ESLINT:"false",VUE_APP_ADD_PWA:"true",VUE_APP_CLIENT_ID:"eyJpdiI6IjFHWFNSYW5zd1paQkxsbHFBWHl0cWc9PSIsInZhbHVlIjoicnBnTzA3azRQakc1eTFkOGh0R3BGUT09IiwibWFjIjoiMmE5ZmE3MGM2YjZiM2FjMmI1M2Y3M2Q4MDhhY2YwNzE1MWYyNjY3ODQ2MzdiNWMzOGRkMjQwNWI4Y2YxYzVmNiJ9",VUE_APP_SOCKET_URL:"https://broadcast-server.herokuapp.com"}};class P{constructor(t="admin"){c(this,"portalConfig",{});c(this,"getBaseUrl",()=>{var t;return(t=this.portalConfig.VUE_APP_BASE_URL)!=null?t:"localhost"});c(this,"getAssetsUrl",()=>this.portalConfig.VUE_APP_DOMAIN_PREFIX);c(this,"getDomianPrefix",()=>this.portalConfig.VUE_APP_DOMAIN_PREFIX);c(this,"getOutputDir",()=>this.portalConfig.VUE_APP_OUTPUT_DIR);c(this,"getApiBaseUrl",()=>this.portalConfig.VUE_APP_API_BASE_URL);c(this,"getWebBaseUrl",()=>this.portalConfig.VUE_APP_WEB_BASE_URL);c(this,"getPort",()=>this.portalConfig.VUE_APP_PORT);c(this,"getClientId",()=>{var t;return(t=this.portalConfig.VUE_APP_CLIENT_ID)!=null?t:""});c(this,"getRouteBaseUrl",()=>"/");c(this,"getCookiePrefix",()=>"");c(this,"getCheckESlint",()=>this.portalConfig.VUE_APP_CHECK_ESLINT!=="false");c(this,"getAddPWA",()=>this.portalConfig.VUE_APP_ADD_PWA!=="false");this.portalConfig=J[t]}}const C=new P,F=C.getCookiePrefix(),g=F+"X-TOKEN",U=F+"X-REFRESH-TOKEN",ee="DEVICE-ID",te=()=>_.get(g),oe=()=>_.get(ee),re=e=>{const t=C.getBaseUrl();A(),y(),ae(e.access_token,"/",t),ne(e.refresh_token,"/")},se=()=>{A(),y()},ae=(e,t,o)=>(console.log({token:e,path:t,domain:o}),_.set(g,e,{expires:30,path:t})),ne=(e,t,o)=>_.set(U,e,{expires:45,path:t}),A=()=>_.remove(g),y=()=>_.remove(U),k=new P,L=E.CancelToken;E.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";const ie={baseURL:k.getApiBaseUrl()},u=E.create(ie);u.defaults.headers.common["client-id"]=k.getClientId();u.defaults.headers.common.Accept="application/json, text/plain, */*";u.interceptors.request.use(e=>{const t=te();return t&&(e.headers.Authorization="Bearer "+t),e.headers["device-id"]=oe(),e.headers["time-offset"]="test",e},e=>Promise.reject(e));u.interceptors.response.use(e=>e.data,e=>(e&&e.request&&e.request.status===401&&(A(),y()),Promise.reject(e)));var ce={install:(e,t)=>{e.config.globalProperties.$axios=u,e.config.globalProperties.$_axios=u}};const le={profile:null};var p;(function(e){e.CHANGE="CHANGE",e.UPDATE="UPDATE",e.MIX="MIX",e.DELETE="DELETE"})(p||(p={}));const de={async[p.CHANGE]({commit:e},{data:t}){e(f.CHANGE,t)},async[p.MIX]({commit:e},{data:t}){e(f.MIX,t.data)},async[p.DELETE]({commit:e}){e(f.DELETE,null)}};var f;(function(e){e.CHANGE="CHANGE",e.UPDATE="UPDATE",e.MIX="MIX",e.DELETE="DELETE"})(f||(f={}));const ue={[f.CHANGE](e,t){e.profile=t},[f.UPDATE](e,t){},[f.MIX](e,t){},[f.DELETE](e,t){e.profile=t}};var pe={state:le,mutations:ue,actions:de};const fe={state:{sidebar:!0,color:"secondary",image:"https://demos.creative-tim.com/vue-material-dashboard/img/sidebar-2.32103624.jpg",sidebarBackgroundColor:"rgba(27, 27, 27, 0.74)"},mutations:{sidebar:e=>{e.sidebar=!e.sidebar}},actions:{sidebar:({commit:e})=>{e("sidebar")}}},me={sidebar:e=>e.app.sidebar,authProfile:e=>e.profile?e.profile.profile:null,isAuth:e=>!!(e.profile&&e.profile.profile),permissions:e=>e.profile&&e.profile.profile&&e.profile.profile.permissions?e.profile.profile.permissions:[]},v=x({plugins:[N()],modules:{profile:pe,app:fe},getters:me}),_e=()=>l(()=>import("./index.3c64bd29.js"),["assets/index.3c64bd29.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css","assets/plugin-vue_export-helper.21dcd24c.js"]),he=()=>l(()=>import("./index.3c64bd29.js"),["assets/index.3c64bd29.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css","assets/plugin-vue_export-helper.21dcd24c.js"]),Ee=[{path:"/auth",name:"login",component:_e,meta:{title:"Login",heading:"Login",isPublic:!0,icon:"login",permission:"admin.login"}},{path:"reset-password",name:"resetpassword",component:he},{path:"verify",component:()=>l(()=>import("./index.79e7924a.js"),["assets/index.79e7924a.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css"]),children:[{path:"/",name:"verify.email_or_mobile",component:()=>l(()=>import("./index.79e7924a.js"),["assets/index.79e7924a.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css"])},{path:"otp",name:"verify.otp",component:()=>l(()=>import("./index.79e7924a.js"),["assets/index.79e7924a.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css"])}]}],Pe=()=>l(()=>import("./index.79e7924a.js"),["assets/index.79e7924a.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css"]),ge=[{path:"/dashboard",name:"dashboard",component:Pe,meta:{title:"Dashboard",heading:"Dashboard",isPublic:!1,icon:"login",permission:"admin.dashboard"}}],Ae=()=>l(()=>import("./index.a7ff742e.js"),["assets/index.a7ff742e.js","assets/index.adaa3e1f.css","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css","assets/index.a2bcdef1.js"]),ye=[{path:"/drawer",name:"drawer",component:Ae,meta:{title:"Drawer",heading:"Drawer",isPublic:!1,icon:"login",permission:"admin.drawer"}}],ve=new P,be=()=>l(()=>import("./index.cfb0e3fa.js"),["assets/index.cfb0e3fa.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css","assets/plugin-vue_export-helper.21dcd24c.js"]),Te=()=>l(()=>import("./index.49e2cb52.js"),["assets/index.49e2cb52.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css"]),De=[{path:"/",redirect:"/auth"},{path:"/auth",children:Ee,component:Te},{path:"/",component:be,children:[...ye,...ge]},{path:"/:catchAll(.*)",name:"PageNotFound",meta:{type:"not_found"},component:()=>l(()=>import("./PageNotFound.6797cfdb.js"),["assets/PageNotFound.6797cfdb.js","assets/index.a2bcdef1.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css"])}],b=B({history:j(ve.getDomianPrefix()),routes:De}),{isLoading:w}=S();b.beforeResolve((e,t,o)=>{var a,r;o(),console.log("asssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss"),console.log((a=e.matched[0])==null?void 0:a.components),typeof((r=e.matched[0])==null?void 0:r.components.default)=="function"&&(alert("ooooooo"),w.value=!0,setTimeout(()=>{w.value=!1},500))});function Ie(){const e=T(!1),t=async s=>await u.get(s,{cancelToken:new L(function(i){})}).then(async d=>(await o(d.data.user),await new Promise(i=>{i(d.data)}))).catch(async d=>await new Promise((i,h)=>{h(d.data)})).finally(()=>{setTimeout(()=>{e.value=!0},100)}),o=async s=>{await v.dispatch(p.CHANGE,{key:p.CHANGE,data:s})},a=s=>{re(s.data.token)};return{myProfile:t,finished:e,loginUser:async(s,d)=>await u.post(s,d,{cancelToken:new L(function(h){})}).then(async i=>(await o(i.data.user),a(i),new Promise(h=>{h(i.data)}))).catch(i=>new Promise((h,R)=>{R(i)})).finally(()=>{setTimeout(()=>{e.value=!0},100)}),logOutUser:(s,d="logout")=>u({url:d,method:"POST",data:{socketId:s}}).finally(()=>(se(),v.dispatch(p.DELETE,{key:p.DELETE}),b.push("/"),new Promise(i=>{i(!0)}))),userProfileStore:o}}const Ce=H({setup(e){const{myProfile:t,finished:o}=Ie(),a=T("pending");t("my-profile").then(()=>{a.value="authenticated"}).catch(()=>a.value="unauthenticated");const r=M(()=>l(()=>import("./index.d504e332.js"),["assets/index.d504e332.js","assets/vendor.6bf135c8.js","assets/vendor.b513e81c.css","assets/index.a2bcdef1.js","assets/plugin-vue_export-helper.21dcd24c.js"]));return(n,s)=>(W(),X(D(r),{"auth-status":a.value,"auth-loading":!D(o)},null,8,["auth-status","auth-loading"]))}});var Fe={light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#2e8c6e","primary-darken-1":"#25735a",secondary:"#2c9c51","secondary-darken-1":"#277541",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"kbd-background-color":"#212529","kbd-color":"#FFFFFF","code-background-color":"#C2C2C2"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#0a8265","primary-darken-1":"#09614c",secondary:"#149943","secondary-darken-1":"#07752e",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"kbd-background-color":"#212529","kbd-color":"#FFFFFF","code-background-color":"#B7B7B7"}}},Ue={VBtn:{},VSheet:{color:"red"}};const ke={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:Fe};var Le=G({components:K,directives:Y,defaults:Ue,theme:ke});async function we(){(await l(()=>import("./webfontloader.f5e2b0ed.js").then(function(t){return t.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}we();const m=$(Ce);m.use(Le);m.use(ce);m.use(v);m.use(z());m.use(b);m.mount("#app");m.config.errorHandler=(e,t,o)=>{console.log({err:e,vm:t,info:o})};m.config.warnHandler=function(e,t,o){console.log({msg:e,vm:t,trace:o})};export{Ie as u};
